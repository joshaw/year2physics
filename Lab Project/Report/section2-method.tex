\section{Method}
\subsection{Oscillator - 555 Timer IC}
\label{sec:555}
The first attempt made for the oscillators is to use a 555 timer chip to directly create an audible frequency square wave signal. The frequency of the 555 IC is determined by the size of the resistances, $R_1$ and $R_2$, and the capacitor, $C$, as located in figure~\ref{fig:555}.

\begin{figure}[htbp]
	\begin{center}
		\includegraphics[scale=1.2]{report_img/555}
		\caption{Circuit diagram of the 555 timer IC with the immediate components used to make a VCO.}
		\label{fig:555}
	\end{center}
\end{figure}

The signal is generated by the chip using a series of capacitors and components contained within, a circuit diagram for the 555 can be seen in appendix~\ref{app:555}. The chip is connected in the astable mode so that the output signal is a continuous stream of rectangular pulses with a given frequency that obey equations (\ref{eqn:555freq}), (\ref{eqn:555high}) and (\ref{eqn:555low}), where $\tau_{\text{high}}$ is the time spent in the high voltage position and $\tau_{\text{low}}$ is the low time.\cite{NE555}
\begin{align}
	\label{eqn:555freq}
	f &= \frac{1}{\ln{2}C(R_1+R_2)}, \\
	\label{eqn:555high}
	\tau_{\text{high}} &= \ln{2}C(R_1+R_2), \\
	\label{eqn:555low}
	\tau_{\text{low}} &= \ln{2}CR_2. 
\end{align}
With two chips combined, a high degree of control over the output can be achieved by varying the value of the resistors. As a proof of concept, the circuit in figure \ref{fig:2x555} was built and a variable resistor in the form of an LDR was added. This allowed the pitch and volume to be controlled remotely using the fingers.

\begin{figure}[htbp]
	\begin{center}
		\includegraphics[scale=0.8,angle=90]{report_img/2x555}
		\caption{Circuit diagram of the two 555 timer ICs used to make a rudimentary resistance controlled theremin.}
		\label{fig:2x555}
	\end{center}
\end{figure}

\subsection{Oscillator - HEF4046 IC}
\label{sec:4046}
Though a controllable waveform in the audible frequency range was produced using the previously described 555 timer method, the sound was not pleasant as the wave was square shape and so does not resemble the ideal sinusoidal sound wave. In an attempt to improve the quality of this sound, an alternative VCO chip is tried. The first choice is the 8068 chip but this is no longer in commercial production, so a close relative, the 4046 chip, is used.

This chip contains several components that shall not be used, but importantly has a voltage controlled oscillator that can be used independently. The circuit diagram is shown in appendix~\ref{app:4046}. Pins 4, 6, 7, 10, 13, 15 and 16 are used with others left open.

Under these conditions, with a capacitance of 10\,nF and resistance of 10\,k$\Omega$, an audible sound was produced, shown, as measured on an oscilloscope, in figure~\ref{fig:4046square}.

\begin{figure}[htbp]
	\centering
		\input{report_img/4046_square.tex}
		\caption{Circuit diagram of the 555 timer IC with the immediate components used to make a VCO.}
		\label{fig:4046square}
\end{figure}

The slight imperfections seen on the upstroke of the waveform are due to inaccuracies in the formation of the wave in the chip. The imperfections are inaudible when played through a speaker and so shall not be addressed in great detail. The values of the capacitor is chosen from the graph in figure~\ref{fig:4046graph} which is from the data sheet.

\begin{figure}[htbp]
	\begin{center}
		\includegraphics[scale=0.4]{report_img/4046graph}
		\caption{The capacitance used is determines the frequency of the signal produced. This graph, from the chip data sheet, allows the necessary capacitor to be chosen}
		\label{fig:4046graph}
	\end{center}
\end{figure}

Using trial and error, an optimum value for the capacitance was found at 2.8\,nF. In this arrangement, the maximum frequency that was available was measured and found to be 25600Hz and, similarly, the lowest frequency possible was 16.9\,Hz, shown in figure~\ref{fig:4046_high_low}. These are both outside audible range giving room for a decrease in range later. 

\begin{figure}[htbp]
	\centering
		\input{report_img/4046_high_low.tex} 
		\caption{The lowest, (a), and highest, (b), frequencies achievable using the 4046 VCO.}
		\label{fig:4046_high_low}
\end{figure}

\subsection{Oscillator - 555 with Capacitance Variation}
\label{sec:555capacitor}
Though the 555 method is not practically possible using a resistance controlled input frequency, the circuit shown in figure~\ref{fig:555} has a capacitor between the comparative resistors and ground. This means that changing the size of that capacitor will have an effect on the voltage entering the chip, and so the frequency of the waveform produced. For this method, the resistors are constant and so are chosen to give the best possible range for the frequencies as controlled by the capacitor.

Since, as was noted previously, the high time and low time are controlled by these resistors, the ideal scenario would be to have the resistor $R_1$ set to zero so the two times would be equal, in accordance with equation~\ref{eqn:555high} and \ref{eqn:555low}. This however is limited by the duty cycle of the chip which is defined by equation~\ref{eqn:duty cycle},
\begin{equation}
	D = \frac{R_2}{R_1 + 2R_2},
	\label{eqn:duty cycle}
\end{equation}
and is not permitted to be less than 50\% by the intrinsic properties of the chip. This means that the value of the first resistor cannot be zero, i.e.\ the resistor cannot be removed from the circuit, but must be some finite value, and so the wave cannot be perfectly symmetrical.

\subsection{Oscillator - 7555 CMOS Chip}
\label{sec:7555}
The new 555 method is a great improvement, but to improve the quality of the output signal, a change in design is required. Up to this point, the method of signal production relies simply on a single chip that provides an output depending on the voltage across the input pins. In order to achieve a greater range of frequencies from a smaller change of stimulus, a second chip is added and the two signal mixed together. The chip that is used now is the ICM7555 CMOS chip which has an identical internal structure to the regular 555 chip, but is capable of producing frequencies up to 3\,MHz\cite{CMOS-7555}.

When using this new chip, the output signal is much more acceptable, as shown in figure~\ref{fig:7555}. In order to ensure the signal is in the audible range, the arrangement of resistors and capacitors is edited in accordance with the equations governing the chip.

\begin{figure}[htbp]
	\centering
		\input{report_img/7555.tex}
		\caption{New signal produced when the two 7555 chips are used in the circuit and combined by the mixer.}
		\label{fig:7555}
\end{figure}

\subsection{Mixer - SA612A}
\label{sec:SA612A-mixer}
The mixer chip is used to calculate the difference in frequency between the input signals and output this difference as a new signal. This allows a small influence to the circuit to cause a big difference in the signal by comparing two high frequency inputs so that the relative difference is large. The chip that is used is the SA612A IC which is a double-balanced mixer and oscillator\cite{SA612A}. The pin configuration and internal block configuration is shown in appendix~\ref{app:SA612A}. This particular mixer chip subtracts the lower frequency signal from the higher one to give a simple difference relation.

The chip is tested using a pair of TG315 signal generators to provide a known input frequency that can be used to examine the performance of the mixer chip. It is found, when using this set-up, that though the output signal is the difference between the inputs, as expected, the signal is not perfectly clean, and there is a considerable amount of high frequency noise left. This produces a unpleasant rough high pitched addition to the sound. This is required to be removed in order that the instrument be acceptable to listen to. These unwanted parts of the signal shall be removed using a low pass filter.

\subsection{Low Pass Filter}
\label{sec:lowpass}
A low pass filter is a circuit whose output depends on the frequency of the input. The circuit has a cut off frequency, above which the amplitude of the signal is severely attenuated. This cut-off can be chosen depending on the components used. This allows the high frequency noise to be removed whilst leaving the important signal largely unaffected.

The low pass filter is composed of a resistor and a capacitor to ground, as shown in figure~\ref{fig:low_pass}. The capacitor acts as an open circuit at low frequency signals, so these parts are not affected, but acts as a short circuit at high frequencies, so these pass to ground and hence are removed from signal. To satisfactorily remove the noise, two low pass filters are placed in series with a $\times 1$ buffer amplifier between them. This produces a sharper cut-off so that less of the important signal is lost. The buffer amplifier is added to ensure the two filters are isolated from each other. It is formed of an operational-amplifier (op-amp) with the output fed back into the inverting input. The op-amp used is the LT081 operational amplifier, described in appendix~\ref{app:lt081}.

\begin{figure}[htbp]
	\begin{center}
		\includegraphics[width=\textwidth]{report_img/buffer_amp}
		\caption{The low pass filter is an extremely simple circuit to remove unwanted high frequency noise. The circuit on the left shows the principle of having two low pass filters separated by a $\times 1$ buffer amplifier, with the single low pass filter highlighted. The second circuit shows the implementation of the op-amp bases buffer.}
		\label{fig:low_pass}
	\end{center}
\end{figure}

The approximate frequency of the cut-off of the low pass filter is given by the equation
\begin{equation}
	f_c = \frac{1}{2\pi RC},
\end{equation}
where $R$ is the resistor and $C$ is the capacitor in the previous circuit. A cut-off of around 20\,kHz is desired, corresponding to the upper limit of human hearing, and so a resistor of 820\,$\Omega$ and capacitor of 10\,nF is used. Equation~\ref{eqn:low pass numbers} shows that this gives a value that is very close to the desired value,
\begin{equation}
		f_c \frac{1}{2\pi\times 820 \times 10 \times 10^{-9}} = 19,409\,\text{Hz}.
		\label{eqn:low pass numbers}
\end{equation}
The resulting signal is much cleaner in the high frequency range and so much more pleasant to listen to. A comparison of the signal before and after the low pass filter is shown in figure~\ref{fig:filter before after}.

\begin{figure}[htbp]
	\centering
		\input{report_img/before_after_filter.tex} 
		\vspace{-10pt}
		\caption{The signal before the low pass filter, left, and after, right. Only the high frequency oscillations are affected leaving the envelope signal unchanged, but cleaner.}
		\label{fig:filter before after}
\end{figure}

\subsection{Parallel Plate Capacitor}
\label{sec:PPCapacitor}
The main attraction of the theremin is the novel control of the instrument remotely. This is achieved using a parallel plate capacitor. A capacitor is "a device used to store an electrical charge, consisting of one or more pairs of conductors separated by an insulator"\cite{OED2000}. When used in the theremin, one of the conductors is the user, via their hand which is closest to the instrument, and the other is the aerial connected to the circuit; the insulator is the air in between them. 

The aerial used to test the theremin, is a square of metal of known dimensions, insulated from, and suspended by a retort stand. The definite size of this piece of equipment allows the capacitance to be estimated from the simple capacitor equation (equation~(\ref{eqn:capacitor})). The plate capacitor is connected to the VCO that controls the pitch. For a complete theremin, there would be two separate plate capacitors, one for pitch and one for volume, but only one shall be used here for simplicity.

This set-up is used to produce the variation in frequency shown in figure~\ref{fig:capacitor high low}. Though this represents a definite change in the output frequency of the VCO, the change is too small to be heard. The shape of the wave is also not as expected since the high time and low time are not equal. This was expected to a small degree since the duty cycle of the chip is always less than 50\%, but not to the extent seen here.

\begin{figure}[htbp]
	\centering
		\input{report_img/capacitor_high_low.tex} 
		\caption{The change in frequency accessible by the plate capacitor. The original frequency, black, is when there is minimal external presence near the capacitor, and so a minuscule capacitance, compared with the maximum frequency possible, red, when a user's hand is placed directly next to, but not touching, the plate.}
		\label{fig:capacitor high low}
\end{figure}

The metal used for the aerial is roughly a square with sides $15\times 15\,\text{cm}$. The area of the average human hand is roughly $420\,\text{cm}^2$ and so the area concerned with the plate capacitor is about half of this value, $210\,\text{cm}^2$\cite{Joo-Young-Lee2007}. From this, it is possible to estimate a value for the capacitance provided by the parallel plate capacitor at different distances, as shown in equation~(\ref{eqn:cap0.03}) and (\ref{eqn:cap0.01})
\begin{align}
	\text{For } d = 0.3, \qquad C &= \frac{1\times 8.854\times 10^{-12} \times 0.021}{0.03} \label{eqn:cap0.03}\\
			&= 6.20\times 10^{-13}\,F \nonumber \\
	\text{For } d = 0.1, \qquad C &= \frac{1\times 8.854\times 10^{-12} \times 0.021}{0.01} \label{eqn:cap0.01}\\
			&= 1.86\times 10^{-12}\,F \nonumber
\end{align}
These values are extremely small capacitances to be measured by the standard components that are to be used whilst continuing to allow the finished instrument to be commercially viable. For the initial design with the 555 or 4046 chips, this change would be far too small to be detected. Only with the increase in frequency provided by the 7555 chip is this detection possible.

An attempt to increase the capacitance change caused by moving close to the plate is made by adding several separate fixed value capacitors in series with the variable capacitor. When in series, the total capacitance is given by the sum of the reciprocals of the separate capacitances. A sequence of four small 1\,nF capacitors is added in series with a total capacitance shown in equation~(\ref{eqn:capacitors in series}).
\begin{align}
	\frac{1}{C_\text{total}} &= \frac{1}{C_1}+\frac{1}{C_2}+\frac{1}{C_3}+\ldots+\frac{1}{C_N} \label{eqn:capacitors in series}\\
	C_\text{total} &= \left( 4\times \frac{1}{1\times 10^{-9}}\right)^{-1} \nonumber \\
	&= 250\,pF \nonumber
\end{align}

\newpage 
